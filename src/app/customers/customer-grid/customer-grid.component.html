<div class="table-panel">
    <!-- new bar -->
    <div class="toolbar">
        <div class="left-bar">
            <h2>CLIENTI</h2>
        </div>
        <div class="right-bar">
            <button mat-raised-button matTooltip="Inserisci nuovo cliente" matTooltipPosition="left" (click)="openResourceDialog('inserimento','')"><mat-icon>person_add</mat-icon></button>
        </div>
    </div>

    <!-- filter bar -->
    <div class="search-bar" *ngIf="true">
        <div class="left-search-bar">
            <button mat-icon-button (click)="clearSearch()" matTooltip="Cancella" matTooltipPosition="left"><mat-icon>clear</mat-icon></button>
        </div>
        <div class="right-search-bar">
            <mat-form-field>
                <mat-label>Cerca</mat-label>
                <input matInput (keyup)="applyFilter($event)" placeholder="testo" [(ngModel)]="testo_ricerca">
            </mat-form-field>
        </div>
    </div>

    <!-- table -->
    <div class="mat-elevation-z2" style="clear: left;">
        <table mat-table [dataSource]="dataSource" matSort #table1>
            <!-- Nominativo Column -->
            <ng-container matColumnDef="nominativo">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Nominativo </th>
                <td mat-cell *matCellDef="let element" (click)="openDetails(element.nominativo)" class="name-cell" style="cursor: pointer;"> {{element.nominativo}} </td>
            </ng-container>

            <!-- Telefono Column -->
            <ng-container matColumnDef="telefono">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Telefono </th>
                <td mat-cell *matCellDef="let element"> {{element.telefono}} </td>
            </ng-container>

            <!-- Data Ultima Misura Column -->
            <ng-container matColumnDef="note">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Data Ultima Misura </th>
                <td mat-cell *matCellDef="let element"> {{element.note}} </td>
            </ng-container>



            <!-- Update Column -->
            <ng-container matColumnDef="update">
                <th mat-header-cell *matHeaderCellDef>
                </th>
                <td mat-cell *matCellDef="let row" class="middle-row-button">
                    <button mat-raised-button matTooltip="Modifica {{row.nominativo}}" matTooltipPosition="right" (click)="openResourceDialog('aggiornamento',row.nominativo)"><mat-icon>create</mat-icon></button>
                </td>
            </ng-container>

            <!-- Delete Column -->
            <ng-container matColumnDef="delete">
                <th mat-header-cell *matHeaderCellDef>
                </th>
                <td mat-cell *matCellDef="let row" class="middle-row-button">
                    <button mat-raised-button matTooltip="Elimina {{row.nominativo}}" matTooltipPosition="right"><mat-icon>person_remove</mat-icon></button>

                    <!-- prova pulsanti -->
                    <!-- <mat-menu #appMenu="matMenu">
                    <button mat-menu-item routerLink="profile">Profilo</button>
                    <button mat-menu-item routerLink="helpdesk">HelpDesk</button>
                    <button mat-menu-item routerLink="logout">Logout</button>
                            </mat-menu>
                            <button mat-icon-button [matMenuTriggerFor]="appMenu">
                        <mat-icon>more_vert</mat-icon>
                    </button> -->
                    <!-- fine prova pulsanti -->

                </td>
            </ng-container>

            <!-- Measure Column -->
            <ng-container matColumnDef="measure">
                <th mat-header-cell *matHeaderCellDef>
                </th>
                <td mat-cell *matCellDef="let row" class="middle-row-button">
                    <button mat-raised-button matTooltip="Prendi misure per {{row.nominativo}}" matTooltipPosition="right" (click)="openTakeMeasureDialog('inserimento',row.nominativo)"><mat-icon>straighten</mat-icon></button>
                </td>
            </ng-container>

            <!-- View_orders Column -->
            <ng-container matColumnDef="view_orders">
                <th mat-header-cell *matHeaderCellDef>
                </th>
                <td mat-cell *matCellDef="let row" class="middle-row-button">
                    <button mat-raised-button matTooltip="Visualizza ordini di {{row.nominativo}}" matTooltipPosition="left"><mat-icon>pageview</mat-icon></button>
                </td>
            </ng-container>

            <!-- new_order Column -->
            <ng-container matColumnDef="new_order">
                <th mat-header-cell *matHeaderCellDef>
                </th>
                <td mat-cell *matCellDef="let row" class="last-row-button">
                    <button mat-raised-button matTooltip="Nuovo ordine per {{row.nominativo}}" matTooltipPosition="left" (click)="openOrderDialog('nuovo',row.idordini)"><mat-icon>create_new_folder</mat-icon></button>
                </td>
            </ng-container>

            <!-- inserimento dell'intestazione e corpo della tabella -->
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="riga"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>
    <!-- chiusura table panel -->
</div>

<!-- vista dei dettagli -->
<div class="last-mesaure" [hidden]="!viewDetails">
    <mat-card>
        <p>Cliente: {{customerNameFocused}}</p>
        <div class="grid-container">
            <div class="grid-item">
                <dl>
                    <dt>Collo: {{dummy_data}}</dt>
                    <dt>Spalla: {{dummy_data}}</dt>
                    <dt>Bicipite: {{dummy_data}}</dt>
                    <dt>Lunghezza Bicipite: {{dummy_data}}</dt>
                    <dt>Vita Dietro: {{dummy_data}}</dt>
                </dl>
            </div>
            <div class="grid-item">
                <dl>
                    <dt>Polso: {{dummy_data}}</dt>
                    <dt>Lunghezza Camicia: {{dummy_data}}</dt>
                    <dt>Avambraccio: {{dummy_data}}</dt>
                    <dt>Lunghezza Avambraccio: {{dummy_data}}</dt>
                    <dt>Bacino Dietro: {{dummy_data}}</dt>
                </dl>
            </div>
            <div class="grid-item">
                <p>Torace</p>
                <dl style="border: solid 1px black;">
                    <dt>1° Bottone: {{dummy_data}}</dt>
                    <dt>2° Bottone: {{dummy_data}}</dt>
                    <dt>3° Bottone: {{dummy_data}}</dt>
                </dl>
            </div>
            <div class="grid-item">
                <p>Bacino</p>
                <dl style="border: solid 1px black;">
                    <dt>4° Bottone: {{dummy_data}}</dt>
                    <dt>5° Bottone: {{dummy_data}}</dt>
                    <dt>6° Bottone: {{dummy_data}}</dt>
                    <dt>7° Bottone: {{dummy_data}}</dt>
                    <dt>8° Bottone: {{dummy_data}}</dt>
                </dl>
            </div>
        </div>
    </mat-card>
</div>